{"version":3,"file":"8-C9dD5Q6M.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/meshtastic/_attribute_/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/8.js"],"sourcesContent":["import { d as db } from \"../../../../chunks/database.js\";\nimport { e as error } from \"../../../../chunks/index.js\";\nasync function load({ params }) {\n  const getData = async () => {\n    const requestedAttribute = params.attribute;\n    console.log(requestedAttribute);\n    try {\n      if (isNumeric(requestedAttribute)) {\n        throw error(404);\n      }\n      const stmt = db.prepare(`SELECT sensorID, ${requestedAttribute}, createdAt FROM sensor_data`);\n      const rows = stmt.all();\n      const result = {};\n      for (const row of rows) {\n        const { sensorID: id, [requestedAttribute]: attribute, createdAt: time } = row;\n        if (!result[id]) {\n          result[id] = { attribute: [], time: [] };\n        }\n        result[id].attribute.push(attribute);\n        result[id].time.push(time);\n      }\n      return result;\n    } catch (e) {\n      console.log(e);\n      error(404, { message: \"Attribute not found!\" });\n    }\n  };\n  return {\n    status: 200,\n    oneAttributeData: await getData(),\n    attributeName: params.attribute\n  };\n}\nfunction isNumeric(str) {\n  if (typeof str != \"string\") return false;\n  return (\n    //@ts-ignore\n    !isNaN(str) && // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n    !isNaN(parseFloat(str))\n  );\n}\nexport {\n  load\n};\n","import * as server from '../entries/pages/meshtastic/_attribute_/_page.server.ts.js';\n\nexport const index = 8;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/meshtastic/_attribute_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/meshtastic/[attribute]/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/8.5rgar_4M.js\",\"_app/immutable/chunks/scheduler.Cr2NSsBU.js\",\"_app/immutable/chunks/index.Kej8iNlk.js\",\"_app/immutable/chunks/helpers.Ba4Tvldy.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;AAEA,eAAe,IAAI,CAAC,EAAE,MAAM,EAAE,EAAE;AAChC,EAAE,MAAM,OAAO,GAAG,YAAY;AAC9B,IAAI,MAAM,kBAAkB,GAAG,MAAM,CAAC,SAAS,CAAC;AAChD,IAAI,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;AACpC,IAAI,IAAI;AACR,MAAM,IAAI,SAAS,CAAC,kBAAkB,CAAC,EAAE;AACzC,QAAQ,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;AACzB,OAAO;AACP,MAAM,MAAM,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,4BAA4B,CAAC,CAAC,CAAC;AACpG,MAAM,MAAM,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AAC9B,MAAM,MAAM,MAAM,GAAG,EAAE,CAAC;AACxB,MAAM,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;AAC9B,QAAQ,MAAM,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC,kBAAkB,GAAG,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;AACvF,QAAQ,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;AACzB,UAAU,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC;AACnD,SAAS;AACT,QAAQ,MAAM,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC7C,QAAQ,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACnC,OAAO;AACP,MAAM,OAAO,MAAM,CAAC;AACpB,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrB,MAAM,KAAK,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,sBAAsB,EAAE,CAAC,CAAC;AACtD,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,OAAO;AACT,IAAI,MAAM,EAAE,GAAG;AACf,IAAI,gBAAgB,EAAE,MAAM,OAAO,EAAE;AACrC,IAAI,aAAa,EAAE,MAAM,CAAC,SAAS;AACnC,GAAG,CAAC;AACJ,CAAC;AACD,SAAS,SAAS,CAAC,GAAG,EAAE;AACxB,EAAE,IAAI,OAAO,GAAG,IAAI,QAAQ,EAAE,OAAO,KAAK,CAAC;AAC3C,EAAE;AACF;AACA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AACf,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;AAC3B,IAAI;AACJ;;;;;;;ACtCY,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAyD,CAAC,EAAE,QAAQ;AAE/H,MAAC,SAAS,GAAG,oDAAoD;AACjE,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,2CAA2C,EAAE;AACtL,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}